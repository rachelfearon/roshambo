<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Rock Paper Scissors</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="">
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        



        <script>

            const possibleMoves = ["rock", "paper", "scissors"];
            
            let playerScore = 0;
            let computerScore = 0;
            let roundResult = "";
            let gameResult = "";
            
            /* Plays the game and logs the round result & the scores each loop.
                after loop, prints results of determineWinner function */
            function game() {
                
                for (let rounds = 0; rounds < 5; rounds++) {
                    const playerSelection = playerPlay();
                    const computerSelection = computerPlay();
                    console.log(playRound(playerSelection, computerSelection));
                    console.log(`Computer Score: ${computerScore}  Player Score: ${playerScore}`);
                }
                console.log(determineWinner());
            }
            // Computer chooses random string from possibleMoves array
            function computerPlay() {
                let x = possibleMoves[Math.floor(Math.random()*possibleMoves.length)]
                return x;
            }
            //Prompts user for input, converts it to lowercase, returns result
            function playerPlay(input) {
                let choice = prompt("Choose rock, paper, or scissors:");
                let y = choice.toLowerCase();
                return y;
            }
           
            

            /* Checks for player input, then compares found input 
               to computerSelection possibilities, lets & returns roundResult 
               for matching message, increments player or computer score
               if winner is found. */
            function playRound(playerSelection, computerSelection) {
                // Player inputs ROCK
                if (playerSelection === "rock") {
                    if (computerSelection === "rock") {
                        roundResult = "It's a tie!";
                        return roundResult;
                    } else if (computerSelection === "paper") {
                        roundResult = "You lose! Paper beats rock.";
                        computerScore++;
                        return roundResult;
                        return computerScore;
                    } else if (computerSelection === "scissors") {
                        roundResult = "You win! Rock beats scissors.";
                        playerScore++;
                        return roundResult;
                        return playerScore;
                    } else {
                        console.log("Something went wrong.");
                    }
                // Player inputs PAPER
                } else if (playerSelection === "paper") {
                    if (computerSelection === "rock") {
                        roundResult = "You win! Paper beats rock.";
                        playerScore++;
                        return roundResult;
                    } else if (computerSelection === "paper") {
                        roundResult = "It's a tie!";
                        return roundResult;
                    } else if (computerSelection === "scissors") {
                        roundResult = "You lose! Scissors beat paper.";
                        computerScore++;
                        return roundResult;
                    } else {
                        console.log("Something went wrong.");
                    }
                // Player inputs SCISSORS
                } else if (playerSelection === "scissors") {
                    if (computerSelection === "rock") {
                        roundResult = "You lose! Rock beats scissors.";
                        computerScore++;
                        return roundResult;
                    } else if (computerSelection === "paper") {
                        roundResult = "You win! Scissors beats paper.";
                        playerScore++;
                        return roundResult;
                    } else if (computerSelection === "scissors") {
                        roundResult = "It's a tie!";
                        return roundResult;
                    } else {
                        console.log("Something went wrong.");
                    }
                } else // Player input is invalid
                    {
                        console.log("Input is invalid - try again.");
                    }
            } // closes playRound()

            function determineWinner() {
                if (playerScore > computerScore) {
                    gameResult = "You won the game!";
                    return gameResult;
                } else if (playerScore < computerScore) {
                    gameResult = "You lost the game!";
                    return gameResult;
                } else if (playerScore === computerScore) {
                    gameResult = "It's a tie game!";
                    return gameResult;
                }
            }
            
            

            game();
        
        </script>
    </body>
</html>